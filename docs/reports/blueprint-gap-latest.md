# Blueprint Gap Tracker (Autocapture NX)

Generated: deterministic

Status legend:
- implemented: every acceptance bullet has at least one deterministic validator path and all paths exist
- missing: one or more acceptance bullets lack validators, or validator paths are missing

| ID | Phase | Title | Status | Evidence |
| --- | --- | --- | --- | --- |
| I001 | Phase 1: Correctness + immutability blockers | Eliminate floats from journal/ledger payloads | implemented | autocapture_nx/kernel/canonical_json.py<br>autocapture_nx/kernel/event_builder.py<br>plugins/builtin/journal_basic/plugin.py<br>plugins/builtin/ledger_basic/plugin.py<br>tests/test_canonical_payloads.py<br>tests/test_canonical_json.py<br>tools/gate_canon.py |
| I002 | Phase 1: Correctness + immutability blockers | Make backpressure actually affect capture rate | implemented | plugins/builtin/backpressure_basic/plugin.py<br>plugins/builtin/capture_windows/plugin.py<br>autocapture_nx/windows/win_capture.py<br>tests/test_backpressure.py<br>tests/test_capture_rate.py |
| I003 | Phase 1: Correctness + immutability blockers | Stop buffering whole segments in RAM; stream segments | implemented | plugins/builtin/capture_windows/plugin.py<br>plugins/builtin/storage_encrypted/plugin.py<br>plugins/builtin/storage_memory/plugin.py<br>tests/test_capture_streaming.py |
| I004 | Phase 1: Correctness + immutability blockers | Do not write to storage from realtime audio callback | implemented | plugins/builtin/audio_windows/plugin.py<br>tests/test_audio_callback_queue.py |
| I005 | Phase 1: Correctness + immutability blockers | Stop mutating primary evidence metadata during query | implemented | autocapture_nx/kernel/query.py<br>autocapture_nx/kernel/metadata_store.py<br>tests/test_query_derived_records.py |
| I006 | Phase 1: Correctness + immutability blockers | Introduce globally unique run/session identifier; prefix all record IDs | implemented | autocapture_nx/kernel/ids.py<br>autocapture_nx/kernel/event_builder.py<br>plugins/builtin/capture_windows/plugin.py<br>plugins/builtin/audio_windows/plugin.py<br>plugins/builtin/input_windows/plugin.py<br>plugins/builtin/window_metadata_windows/plugin.py<br>tests/test_journal_run_id.py<br>tests/test_run_state_entries.py |
| I007 | Phase 1: Correctness + immutability blockers | Make ledger writing thread-safe | implemented | plugins/builtin/ledger_basic/plugin.py<br>tests/test_ledger_journal_concurrency.py |
| I008 | Phase 1: Correctness + immutability blockers | Make journal writing thread-safe; centralize sequences | implemented | plugins/builtin/journal_basic/plugin.py<br>tests/test_ledger_journal_concurrency.py |
| I009 | Phase 1: Correctness + immutability blockers | Fail closed if DPAPI protection fails when encryption_required | implemented | autocapture_nx/kernel/keyring.py<br>plugins/builtin/storage_encrypted/plugin.py<br>tests/test_encrypted_store_fail_loud.py |
| I010 | Phase 1: Correctness + immutability blockers | Sort all store keys deterministically | implemented | plugins/builtin/storage_encrypted/plugin.py<br>plugins/builtin/storage_memory/plugin.py<br>plugins/builtin/storage_sqlcipher/plugin.py<br>tests/test_storage_encrypted.py |
| I011 | Phase 1: Correctness + immutability blockers | Use monotonic clocks for segment duration | implemented | plugins/builtin/capture_windows/plugin.py<br>tests/test_capture_monotonic.py |
| I012 | Phase 1: Correctness + immutability blockers | Align default config with implemented capture backend | implemented | config/default.json<br>plugins/builtin/capture_windows/plugin.py<br>tests/test_capture_backend_default.py |
| I013 | Phase 1: Correctness + immutability blockers | Remove hard-coded model paths; config-driven + portable | implemented | config/default.json<br>plugins/builtin/embedder_stub/plugin.py<br>plugins/builtin/reranker_stub/plugin.py<br>plugins/builtin/vlm_stub/plugin.py<br>tests/test_model_paths_config.py |
| I014 | Phase 1: Correctness + immutability blockers | Enforce plugin compat.requires_kernel / schema versions | implemented | autocapture_nx/plugin_system/registry.py<br>tests/test_plugin_loader.py |
| I015 | Phase 1: Correctness + immutability blockers | Verify contract lock at boot/doctor | implemented | autocapture_nx/kernel/loader.py<br>tests/test_contract_pins.py |
| I016 | Phase 2: Capture pipeline refactor | Split capture into grab → encode/pack → encrypt/write pipeline | implemented | autocapture_nx/capture/pipeline.py<br>plugins/builtin/capture_windows/plugin.py<br>tests/test_capture_streaming.py |
| I017 | Phase 2: Capture pipeline refactor | Bounded queues with explicit drop policies | implemented | autocapture_nx/capture/queues.py<br>autocapture_nx/capture/pipeline.py<br>tests/test_capture_drop_event.py |
| I018 | Phase 2: Capture pipeline refactor | Replace zip-of-JPEG with real video container for primary artifact | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_streaming.py<br>tests/test_capture_zip_container.py |
| I019 | Phase 2: Capture pipeline refactor | Add GPU-accelerated capture/encode backend (NVENC/DD) | implemented | autocapture_nx/capture/pipeline.py<br>autocapture_nx/windows/win_capture.py<br>tests/test_capture_container_resolution.py |
| I020 | Phase 2: Capture pipeline refactor | Record segment start/end timestamps | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_monotonic.py |
| I021 | Phase 2: Capture pipeline refactor | Record capture parameters per segment | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_streaming.py |
| I022 | Phase 2: Capture pipeline refactor | Correlate frames with active window via synchronized timeline | implemented | plugins/builtin/window_metadata_windows/plugin.py<br>autocapture_nx/capture/pipeline.py<br>tests/test_capture_window_input_refs.py<br>tests/test_monitor_selection.py |
| I023 | Phase 2: Capture pipeline refactor | Add cursor/input correlation timeline references | implemented | plugins/builtin/input_windows/plugin.py<br>plugins/builtin/cursor_windows/plugin.py<br>plugins/builtin/retrieval_basic/plugin.py<br>autocapture_nx/capture/pipeline.py<br>tests/test_input_batching.py<br>tests/test_capture_window_input_refs.py<br>tests/test_retrieval_timeline_refs.py<br>tests/test_cursor_timeline_plugin.py |
| I024 | Phase 2: Capture pipeline refactor | Disk pressure degrades capture quality before stopping | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_disk_pressure_degrade.py |
| I025 | Phase 2: Capture pipeline refactor | Atomic segment writes (temp + os.replace) | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_streaming.py |
| I026 | Phase 3: Storage scaling + durability | Default to SQLCipher for metadata when available | implemented | plugins/builtin/storage_sqlcipher/plugin.py<br>config/default.json<br>tests/test_sqlcipher_indexes.py |
| I027 | Phase 3: Storage scaling + durability | Add DB indexes on ts_utc, record_type, run_id | implemented | plugins/builtin/storage_sqlcipher/plugin.py<br>tests/test_sqlcipher_indexes.py |
| I028 | Phase 3: Storage scaling + durability | Store media in binary encrypted format (not base64 JSON) | implemented | plugins/builtin/storage_encrypted/plugin.py<br>plugins/builtin/storage_sqlcipher/plugin.py<br>tests/test_encrypted_blob_store.py |
| I029 | Phase 3: Storage scaling + durability | Stream encryption (avoid whole-segment in memory) | implemented | plugins/builtin/storage_encrypted/plugin.py<br>autocapture_nx/capture/pipeline.py<br>tests/test_encrypted_blob_store.py<br>tests/test_capture_streaming.py |
| I030 | Phase 3: Storage scaling + durability | Immutability/versioning in stores (put_new vs put_replace) | implemented | plugins/builtin/storage_encrypted/plugin.py<br>plugins/builtin/storage_sqlcipher/plugin.py<br>autocapture_nx/kernel/metadata_store.py<br>tests/test_metadata_immutability.py |
| I031 | Phase 3: Storage scaling + durability | Make record ID encoding reversible (no lossy mapping) | implemented | autocapture_nx/kernel/ids.py<br>autocapture_nx/processing/idle.py<br>autocapture_nx/kernel/query.py<br>autocapture_nx/capture/pipeline.py<br>tests/test_record_id_encoding.py<br>tests/test_query_derived_records.py |
| I032 | Phase 3: Storage scaling + durability | Shard media/metadata directories by date/run | implemented | plugins/builtin/storage_encrypted/plugin.py<br>tests/test_encrypted_blob_store.py |
| I033 | Phase 3: Storage scaling + durability | Add per-run storage manifest records | implemented | autocapture_nx/kernel/loader.py<br>tests/test_run_manifest.py |
| I034 | Phase 3: Storage scaling + durability | Configurable fsync policy (critical vs bulk) | implemented | plugins/builtin/storage_encrypted/plugin.py<br>plugins/builtin/journal_basic/plugin.py<br>plugins/builtin/ledger_basic/plugin.py<br>tests/test_run_manifest.py |
| I035 | Phase 4: Retrieval + provenance + citations | Replace full-scan query with tiered indexed retrieval | implemented | plugins/builtin/retrieval_basic/plugin.py<br>autocapture/indexing/lexical.py<br>autocapture/indexing/vector.py<br>tests/test_retrieval_indexed_hits.py |
| I036 | Phase 4: Retrieval + provenance + citations | Deterministic retrieval ordering (stable sort keys) | implemented | plugins/builtin/retrieval_basic/plugin.py<br>tests/test_retrieval_indexed_hits.py |
| I037 | Phase 4: Retrieval + provenance + citations | Candidate-first extraction (retrieve then extract) | implemented | autocapture_nx/kernel/query.py<br>tests/test_extract_on_demand_candidates.py<br>tests/test_extract_on_demand_ledger.py |
| I038 | Phase 4: Retrieval + provenance + citations | Derived artifact records for OCR/VLM outputs | implemented | autocapture_nx/kernel/derived_records.py<br>autocapture_nx/kernel/query.py<br>autocapture_nx/processing/idle.py<br>tests/test_derived_records.py<br>tests/test_query_derived_records.py |
| I039 | Phase 4: Retrieval + provenance + citations | Ledger query executions (inputs/outputs) | implemented | autocapture_nx/kernel/query.py<br>autocapture_nx/kernel/event_builder.py<br>tests/test_query_ledger_entry.py |
| I040 | Phase 4: Retrieval + provenance + citations | Ledger extraction operations (inputs/outputs) | implemented | autocapture_nx/kernel/query.py<br>tests/test_extract_on_demand_ledger.py |
| I041 | Phase 4: Retrieval + provenance + citations | Citations point to immutable evidence IDs + spans | implemented | contracts/citation.schema.json<br>plugins/builtin/citation_basic/plugin.py<br>autocapture_nx/kernel/query.py<br>tests/test_citation_validator_metadata.py |
| I042 | Phase 4: Retrieval + provenance + citations | Citation resolver validates hashes/anchors/spans | implemented | plugins/builtin/citation_basic/plugin.py<br>tests/test_citation_validator_metadata.py |
| I043 | Phase 4: Retrieval + provenance + citations | Fail closed if citations do not resolve | implemented | plugins/builtin/answer_basic/plugin.py<br>tests/test_answer_builder.py |
| I044 | Phase 5: Scheduler/governor | Real scheduler plugin gates heavy work on user activity | implemented | autocapture/runtime/conductor.py<br>autocapture/runtime/scheduler.py<br>autocapture/runtime/governor.py<br>autocapture/runtime/budgets.py<br>plugins/builtin/runtime_scheduler/plugin.py<br>plugins/builtin/runtime_governor/plugin.py<br>tests/test_runtime_conductor.py<br>tests/test_governor_gating.py |
| I045 | Phase 5: Scheduler/governor | Input tracker exposes activity signals (not only journal) | implemented | plugins/builtin/input_windows/plugin.py<br>tests/test_input_activity_signal.py |
| I046 | Phase 5: Scheduler/governor | Capture emits telemetry (queues, drops, lag, CPU) | implemented | autocapture_nx/capture/pipeline.py<br>autocapture_nx/kernel/telemetry.py<br>autocapture/web/routes/metrics.py<br>tests/test_capture_telemetry.py<br>tests/test_metrics_endpoint_exposes_counters.py |
| I047 | Phase 5: Scheduler/governor | Governor outputs feed backpressure and job admission | implemented | autocapture_nx/capture/pipeline.py<br>autocapture/runtime/conductor.py<br>tests/test_capture_governor_influence.py<br>tests/test_runtime_conductor.py |
| I048 | Phase 5: Scheduler/governor | Immediate ramp down on user input (cancel/deprioritize heavy jobs) | implemented | autocapture/runtime/governor.py<br>autocapture/runtime/scheduler.py<br>autocapture/runtime/conductor.py<br>autocapture_nx/processing/idle.py<br>tests/test_governor_gating.py<br>tests/test_runtime_conductor.py |
| I049 | Phase 6: Security + egress hardening | Egress gateway must be subprocess-hosted; kernel network-denied | implemented | autocapture_nx/kernel/loader.py<br>autocapture_nx/plugin_system/runtime.py<br>autocapture_nx/plugin_system/host_runner.py<br>autocapture_nx/plugin_system/registry.py<br>config/default.json<br>tests/test_kernel_network_deny.py<br>tests/test_plugin_network_block.py<br>tests/test_egress_gateway.py |
| I050 | Phase 6: Security + egress hardening | Minimize inproc_allowlist; prefer subprocess hosting | implemented | config/default.json<br>autocapture_nx/plugin_system/registry.py<br>tests/test_plugin_network_block.py |
| I051 | Phase 6: Security + egress hardening | Capability bridging for subprocess plugins (real capability plumbing) | implemented | autocapture_nx/plugin_system/runtime.py<br>autocapture_nx/plugin_system/host_runner.py<br>autocapture_nx/plugin_system/registry.py<br>tests/test_subprocess_capability_bridging.py<br>tests/test_plugin_capability_policies.py |
| I052 | Phase 6: Security + egress hardening | Enforce least privilege per plugin manifest | implemented | contracts/plugin_manifest.schema.json<br>plugins/builtin/*/plugin.json<br>autocapture_nx/plugin_system/registry.py<br>tests/test_plugin_capability_policies.py<br>tests/test_plugin_loader.py |
| I053 | Phase 6: Security + egress hardening | Enforce filesystem permission policy declared by plugins | implemented | autocapture_nx/plugin_system/registry.py<br>autocapture_nx/plugin_system/host_runner.py<br>autocapture_nx/plugin_system/runtime.py<br>tests/test_plugin_filesystem_policy.py |
| I054 | Phase 6: Security + egress hardening | Strengthen Windows job object restrictions (limits) | implemented | autocapture_nx/windows/win_sandbox.py<br>autocapture_nx/plugin_system/host.py<br>config/default.json<br>tests/test_win_sandbox_limits.py |
| I055 | Phase 6: Security + egress hardening | Sanitize subprocess env; pin caches; disable proxies | implemented | autocapture_nx/plugin_system/host.py<br>tests/test_plugin_env_sanitization.py |
| I056 | Phase 6: Security + egress hardening | Plugin RPC timeouts and watchdogs | implemented | autocapture_nx/plugin_system/host.py<br>tests/test_plugin_watchdog_restart.py |
| I057 | Phase 6: Security + egress hardening | Max message size limits in plugin RPC protocol | implemented | autocapture_nx/plugin_system/host.py<br>autocapture_nx/plugin_system/host_runner.py<br>tests/test_plugin_rpc_size_limit.py |
| I058 | Phase 6: Security + egress hardening | Harden hashing against symlinks / filesystem nondeterminism | implemented | autocapture_nx/kernel/hashing.py<br>tests/test_hashing_symlink.py |
| I059 | Phase 6: Security + egress hardening | Secure vault file permissions (Windows ACLs) | implemented | autocapture_nx/windows/acl.py<br>autocapture_nx/kernel/crypto.py<br>autocapture_nx/kernel/keyring.py<br>tests/test_acl_hardening.py |
| I060 | Phase 6: Security + egress hardening | Separate keys by purpose (metadata/media/tokenization/anchor) | implemented | autocapture_nx/kernel/keyring.py<br>autocapture/storage/blob_store.py<br>autocapture/storage/database.py<br>autocapture/storage/keys.py<br>autocapture/storage/sqlcipher.py<br>plugins/builtin/anchor_basic/plugin.py<br>plugins/builtin/egress_sanitizer/plugin.py<br>plugins/builtin/storage_encrypted/plugin.py<br>tests/test_keyring_purpose_rotation.py<br>tests/test_key_export_import_roundtrip.py<br>tests/test_keyring_status.py |
| I061 | Phase 6: Security + egress hardening | Anchor signing (HMAC/signature) with separate key domain | implemented | plugins/builtin/anchor_basic/plugin.py<br>autocapture_nx/kernel/keyring.py<br>autocapture/pillars/citable.py<br>tests/test_anchor.py |
| I062 | Phase 6: Security + egress hardening | Add verify commands (ledger/anchors/evidence) | implemented | autocapture_nx/cli.py<br>autocapture/pillars/citable.py<br>autocapture/ux/facade.py<br>autocapture/web/routes/verify.py<br>plugins/builtin/ledger_basic/plugin.py<br>plugins/builtin/journal_basic/plugin.py<br>tests/test_verify_integrity.py |
| I063 | Phase 6: Security + egress hardening | Audit security events in ledger (key rotations, lock updates, config) | implemented | autocapture_nx/kernel/key_rotation.py<br>autocapture_nx/kernel/loader.py<br>plugins/builtin/ledger_basic/plugin.py<br>tests/test_security_ledger_events.py<br>tests/test_key_rotation.py |
| I064 | Phase 6: Security + egress hardening | Dependency pinning + hash checking (supply chain) | implemented | autocapture_nx/kernel/loader.py<br>requirements.lock.json<br>tests/test_dependency_pinning.py<br>tools/gate_deps_lock.py<br>tools/gate_doctor.py |
| I065 | Phase 4: Retrieval + provenance + citations | Define canonical evidence model (EvidenceObject) | implemented | contracts/evidence.schema.json<br>autocapture_nx/kernel/metadata_store.py<br>tests/test_metadata_record_type.py |
| I066 | Phase 4: Retrieval + provenance + citations | Hash everything that matters (media/metadata/derived) | implemented | autocapture_nx/capture/pipeline.py<br>autocapture_nx/kernel/derived_records.py<br>plugins/builtin/window_metadata_windows/plugin.py<br>tests/test_capture_content_hash.py<br>tests/test_derived_records.py |
| I067 | Phase 4: Retrieval + provenance + citations | Ledger every state transition | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_drop_event.py<br>tests/test_capture_disk_pressure_degrade.py |
| I068 | Phase 4: Retrieval + provenance + citations | Anchor on schedule (N entries or M minutes) | implemented | autocapture_nx/kernel/event_builder.py<br>config/default.json<br>tests/test_anchor_schedule.py<br>tests/test_ledger_anchor_golden.py |
| I069 | Phase 4: Retrieval + provenance + citations | Immutable per-run manifest (config+locks+versions) | implemented | autocapture_nx/kernel/loader.py<br>tests/test_run_manifest.py |
| I070 | Phase 4: Retrieval + provenance + citations | Citation objects carry verifiable pointers | implemented | contracts/citation.schema.json<br>plugins/builtin/citation_basic/plugin.py<br>tests/test_citation_validator_metadata.py |
| I071 | Phase 4: Retrieval + provenance + citations | Citation resolver CLI/API | implemented | autocapture_nx/cli.py<br>autocapture/web/routes/citations.py<br>autocapture/ux/facade.py<br>tests/test_citation_resolver_api.py |
| I072 | Phase 4: Retrieval + provenance + citations | Metadata immutable by default; derived never overwrites | implemented | autocapture_nx/kernel/metadata_store.py<br>tests/test_metadata_immutability.py |
| I073 | Phase 4: Retrieval + provenance + citations | Persist derivation graphs (parent→child links) | implemented | autocapture_nx/kernel/derived_records.py<br>autocapture_nx/kernel/query.py<br>tests/test_derived_records.py |
| I074 | Phase 4: Retrieval + provenance + citations | Record model identity for ML outputs | implemented | autocapture_nx/kernel/derived_records.py<br>tests/test_derived_records.py |
| I075 | Phase 4: Retrieval + provenance + citations | Deterministic text normalization before hashing | implemented | autocapture/core/hashing.py<br>autocapture_nx/kernel/derived_records.py<br>tests/test_derived_records.py |
| I076 | Phase 4: Retrieval + provenance + citations | Proof bundles export (evidence + ledger slice + anchors) | implemented | autocapture_nx/kernel/proof_bundle.py<br>autocapture_nx/cli.py<br>autocapture/ux/facade.py<br>tests/test_proof_bundle_replay.py |
| I077 | Phase 4: Retrieval + provenance + citations | Replay mode validates citations without model calls | implemented | autocapture_nx/kernel/replay.py<br>autocapture_nx/cli.py<br>tests/test_proof_bundle_replay.py |
| I078 | Phase 7: FastAPI UX facade + Web Console | FastAPI UX facade as canonical interface | implemented | autocapture_nx/ux/facade.py<br>autocapture/web/api.py<br>autocapture/web/routes<br>tests/test_ux_facade_parity.py<br>tests/test_trace_facade.py |
| I079 | Phase 7: FastAPI UX facade + Web Console | CLI parity: CLI calls shared UX facade functions | implemented | autocapture_nx/cli.py<br>autocapture_nx/ux/facade.py<br>tests/test_ux_facade_parity.py |
| I080 | Phase 7: FastAPI UX facade + Web Console | Web Console UI (status/timeline/query/proof/plugins/keys) | implemented | autocapture/web/ui<br>autocapture/web/api.py<br>tests/test_ui_routes.py<br>tests/test_ui_accessibility.py<br>tests/test_settings_ui_contract.py<br>tests/test_status_banner_ui.py |
| I081 | Phase 7: FastAPI UX facade + Web Console | Alerts panel driven by journal events | implemented | autocapture_nx/kernel/alerts.py<br>autocapture/web/routes/alerts.py<br>autocapture/web/ui<br>tests/test_watchdog_alerts.py<br>tests/test_silence_alerts.py |
| I082 | Phase 7: FastAPI UX facade + Web Console | Local-only auth boundary (bind localhost + token) | implemented | autocapture/web/auth.py<br>autocapture_nx/kernel/auth.py<br>config/default.json<br>tests/test_localhost_binding.py<br>tests/test_web_auth_middleware.py |
| I083 | Phase 7: FastAPI UX facade + Web Console | Websocket for live telemetry | implemented | autocapture/web/routes/telemetry.py<br>autocapture/web/ui<br>tests/test_websocket_telemetry.py |
| I084 | Phase 0: Scaffolding and gates | Split heavy ML dependencies into optional extras | implemented | pyproject.toml<br>plugins/builtin/*/plugin.json<br>tests/test_optional_deps_imports.py<br>tests/test_optional_dependency_imports.py |
| I085 | Phase 0: Scaffolding and gates | Make resource paths package-safe (no CWD dependence) | implemented | autocapture_nx/kernel/paths.py<br>tests/test_paths_package_safe.py<br>tests/test_packaged_resources.py |
| I086 | Phase 0: Scaffolding and gates | Use OS-appropriate default data/config dirs (platformdirs) | implemented | autocapture_nx/kernel/paths.py<br>tests/test_platform_paths.py<br>config/default.json |
| I087 | Phase 0: Scaffolding and gates | Package builtin plugins as package data | implemented | pyproject.toml<br>tests/test_packaged_resources.py<br>tests/test_plugin_package_data.py |
| I088 | Phase 0: Scaffolding and gates | Add reproducible dependency lockfile (hash-locked) | implemented | requirements.lock.json<br>tools/generate_dep_lock.py<br>tools/gate_deps_lock.py |
| I089 | Phase 0: Scaffolding and gates | Add canonical-json safety tests for journal/ledger payloads | implemented | tests/test_canonical_payloads.py<br>tests/test_canonical_json.py<br>tools/gate_canon.py |
| I090 | Phase 0: Scaffolding and gates | Add concurrency tests for ledger/journal append correctness | implemented | tests/test_ledger_journal_concurrency.py<br>tools/gate_concurrency.py |
| I091 | Phase 0: Scaffolding and gates | Add golden chain test: ledger verify + anchor verify | implemented | tests/test_ledger_anchor_golden.py<br>tools/gate_ledger.py |
| I092 | Phase 0: Scaffolding and gates | Add performance regression tests (capture latency/memory/query latency) | implemented | tools/gate_perf.py<br>tools/run_all_tests.py |
| I093 | Phase 0: Scaffolding and gates | Add security regression tests (DPAPI fail-closed, network guard, no raw egress) | implemented | tools/gate_security.py<br>tests/test_network_guard.py<br>tests/test_plugin_network_block.py<br>tests/test_encrypted_store_fail_loud.py<br>tests/test_policy_gate.py |
| I094 | Phase 0: Scaffolding and gates | Static analysis: ruff + typing + vuln scan | implemented | tools/gate_static.py<br>tools/gate_vuln.py<br>pyproject.toml<br>tools/run_all_tests.py |
| I095 | Phase 0: Scaffolding and gates | Doctor validates locks, storage, anchors, and network policy | implemented | autocapture_nx/kernel/loader.py<br>tools/gate_doctor.py<br>tests/test_doctor_locks.py<br>tests/test_doctor_report_schema.py |
| I096 | Phase 1: Correctness + immutability blockers | Fail loud on decrypt errors when encryption_required | implemented | autocapture_nx/kernel/keyring.py<br>plugins/builtin/storage_encrypted/plugin.py<br>plugins/builtin/storage_sqlcipher/plugin.py<br>tests/test_encrypted_store_fail_loud.py |
| I097 | Phase 1: Correctness + immutability blockers | Add record type fields everywhere | implemented | autocapture_nx/kernel/metadata_store.py<br>plugins/builtin/capture_windows/plugin.py<br>plugins/builtin/window_metadata_windows/plugin.py<br>tests/test_metadata_record_type.py |
| I098 | Phase 1: Correctness + immutability blockers | Add unified EventBuilder helper | implemented | autocapture_nx/kernel/event_builder.py<br>autocapture_nx/kernel/loader.py<br>plugins/builtin/capture_windows/plugin.py<br>plugins/builtin/audio_windows/plugin.py<br>tests/test_event_builder.py |
| I099 | Phase 1: Correctness + immutability blockers | Stamp every journal event with run_id | implemented | plugins/builtin/journal_basic/plugin.py<br>autocapture_nx/kernel/event_builder.py<br>tests/test_journal_run_id.py |
| I100 | Phase 1: Correctness + immutability blockers | Cache policy snapshot hashing per run | implemented | autocapture_nx/kernel/event_builder.py<br>tests/test_event_builder.py |
| I101 | Phase 3: Storage scaling + durability | Add content_hash to metadata for every media put | implemented | autocapture_nx/capture/pipeline.py<br>plugins/builtin/audio_windows/plugin.py<br>plugins/builtin/input_windows/plugin.py<br>tests/test_capture_content_hash.py<br>tests/test_capture_streaming.py |
| I102 | Phase 3: Storage scaling + durability | Track partial failures explicitly in journal/ledger | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_partial_failure.py |
| I103 | Phase 3: Storage scaling + durability | Add segment sealing ledger entry after successful write | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_streaming.py |
| I104 | Phase 3: Storage scaling + durability | Add startup recovery scanner to reconcile stores | implemented | autocapture_nx/kernel/loader.py<br>tests/test_storage_recovery_scanner.py |
| I105 | Phase 2: Capture pipeline refactor | If keeping zips, use ZIP_STORED for JPEG frames | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_zip_container.py |
| I106 | Phase 2: Capture pipeline refactor | If keeping zips, stream ZipFile writes to a real file | implemented | autocapture_nx/capture/pipeline.py<br>tests/test_capture_zip_container.py |
| I107 | Phase 2: Capture pipeline refactor | Batch input events to reduce write overhead | implemented | plugins/builtin/input_windows/plugin.py<br>plugins/builtin/journal_basic/plugin.py<br>tests/test_input_batching.py<br>tests/test_journal_batch.py |
| I108 | Phase 3: Storage scaling + durability | Add compact binary input log (derived) + JSON summary | implemented | plugins/builtin/input_windows/plugin.py<br>tests/test_input_batching.py |
| I109 | Phase 2: Capture pipeline refactor | Add WASAPI loopback option for system audio capture | implemented | plugins/builtin/audio_windows/plugin.py<br>tests/test_audio_encoding.py |
| I110 | Phase 2: Capture pipeline refactor | Store audio as PCM/FLAC/Opus derived artifact | implemented | plugins/builtin/audio_windows/plugin.py<br>tests/test_audio_encoding.py |
| I111 | Phase 2: Capture pipeline refactor | Normalize active window process paths (device → drive paths) | implemented | autocapture_nx/windows/win_window.py<br>plugins/builtin/window_metadata_windows/plugin.py<br>tests/test_window_path_normalization.py<br>tests/test_window_metadata_payload.py |
| I112 | Phase 2: Capture pipeline refactor | Capture window.rect and monitor mapping | implemented | autocapture_nx/windows/win_window.py<br>plugins/builtin/window_metadata_windows/plugin.py<br>tests/test_monitor_selection.py |
| I113 | Phase 2: Capture pipeline refactor | Optional cursor position+shape capture | implemented | autocapture_nx/windows/win_cursor.py<br>plugins/builtin/cursor_windows/plugin.py<br>autocapture_nx/capture/pipeline.py<br>tests/test_capture_cursor_metadata.py<br>tests/test_cursor_timeline_plugin.py |
| I114 | Phase 8: Optional expansion plugins | Clipboard capture plugin (local-only, append-only) | implemented | plugins/builtin/clipboard_windows<br>tests/test_clipboard_capture.py<br>tests/test_optional_plugins_disabled.py |
| I115 | Phase 8: Optional expansion plugins | File activity capture plugin (USN journal / watcher) | implemented | plugins/builtin/file_activity_windows<br>tests/test_file_activity_capture.py<br>tests/test_optional_plugins_disabled.py |
| I116 | Phase 5: Scheduler/governor | Model execution budgets per idle window | implemented | autocapture/runtime/governor.py<br>autocapture/runtime/scheduler.py<br>autocapture/runtime/budgets.py<br>autocapture/runtime/conductor.py<br>autocapture_nx/processing/idle.py<br>tests/test_governor_gating.py<br>tests/test_idle_processor_chunking.py |
| I117 | Phase 5: Scheduler/governor | Preemption/chunking for long jobs | implemented | autocapture/runtime/conductor.py<br>autocapture_nx/processing/idle.py<br>autocapture/research/runner.py<br>tests/test_idle_processor_chunking.py |
| I118 | Phase 4: Retrieval + provenance + citations | Index versioning for retrieval reproducibility | implemented | autocapture/indexing/manifest.py<br>autocapture/indexing/lexical.py<br>autocapture/indexing/vector.py<br>plugins/builtin/retrieval_basic/plugin.py<br>tests/test_index_manifest.py |
| I119 | Phase 6: Security + egress hardening | Persist entity-tokenizer key id/version; version tokenization | implemented | plugins/builtin/egress_sanitizer/plugin.py<br>plugins/builtin/storage_sqlcipher/plugin.py<br>plugins/builtin/storage_encrypted/plugin.py<br>plugins/builtin/storage_memory/plugin.py<br>tests/test_tokenizer_versioning.py |
| I120 | Phase 6: Security + egress hardening | Ledger sanitized egress packets (hash + schema version) | implemented | plugins/builtin/egress_gateway/plugin.py<br>autocapture_nx/kernel/egress_approvals.py<br>tests/test_egress_packet_ledger.py |
| I121 | Phase 7: FastAPI UX facade + Web Console | Egress approval workflow in UI | implemented | autocapture_nx/kernel/egress_approvals.py<br>autocapture/web/routes/egress.py<br>autocapture/web/ui<br>tests/test_egress_approval_store.py<br>tests/test_egress_approval_workflow.py |
| I122 | Phase 8: Optional expansion plugins | Plugin hot-reload with hash verification and safe swap | implemented | autocapture_nx/plugin_system/registry.py<br>autocapture_nx/kernel/loader.py<br>tests/test_plugin_hot_reload_nx.py |
| I123 | Phase 1: Correctness + immutability blockers | Write kernel boot ledger entry system.start | implemented | autocapture_nx/kernel/loader.py<br>tests/test_run_state_entries.py |
| I124 | Phase 1: Correctness + immutability blockers | Write kernel shutdown ledger entry system.stop | implemented | autocapture_nx/kernel/loader.py<br>tests/test_run_state_entries.py |
| I125 | Phase 1: Correctness + immutability blockers | Write crash ledger entry on next startup | implemented | autocapture_nx/kernel/loader.py<br>tests/test_run_state_entries.py |
| I126 | Phase 0: Scaffolding and gates | Make sha256_directory path sorting deterministic across OSes | implemented | autocapture_nx/kernel/hashing.py<br>tests/test_directory_hashing.py<br>tests/test_hashing_directory_deterministic.py |
| I127 | Phase 4: Retrieval + provenance + citations | Record python/OS/package versions into run manifest | implemented | autocapture_nx/kernel/loader.py<br>tests/test_run_manifest.py |
| I128 | Phase 3: Storage scaling + durability | Tooling to migrate data_dir safely (copy+verify, no delete) | implemented | autocapture/storage/migrate.py<br>autocapture_nx/cli.py<br>tests/test_storage_migrate.py |
| I129 | Phase 3: Storage scaling + durability | Disk usage forecasting (days remaining) + alerts | implemented | autocapture/storage/pressure.py<br>autocapture/storage/forecast.py<br>autocapture/runtime/conductor.py<br>autocapture_nx/kernel/loader.py<br>autocapture_nx/cli.py<br>tests/test_storage_forecast.py |
| I130 | Phase 3: Storage scaling + durability | Storage compaction for derived artifacts only | implemented | autocapture/storage/compaction.py<br>autocapture_nx/kernel/metadata_store.py<br>autocapture_nx/cli.py<br>tests/test_storage_compaction.py |
