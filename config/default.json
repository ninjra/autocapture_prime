{
  "backpressure": {
    "hysteresis_s": 10,
    "max_bitrate_kbps": 8000,
    "max_fps": 30,
    "max_queue_depth": 5,
    "max_segment_seconds": 120,
    "max_step_bitrate_kbps": 1000,
    "max_step_fps": 5,
    "min_bitrate_kbps": 1000,
    "min_fps": 5,
    "min_segment_seconds": 30
  },
  "capture": {
    "audio": {
      "blocksize": 44100,
      "channels": 2,
      "device": null,
      "enabled": true,
      "encoding": "wav",
      "ffmpeg_path": "",
      "microphone": true,
      "mode": "auto",
      "queue_max": 8,
      "sample_rate": 44100,
      "system_audio": true
    },
    "cursor": {
      "enabled": false,
      "include_shape": true,
      "sample_hz": 5
    },
    "input_tracking": {
      "flush_interval_ms": 250,
      "mode": "activity",
      "store_derived": true
    },
    "clipboard": {
      "enabled": false,
      "max_bytes": 200000,
      "poll_interval_s": 0.5,
      "redact": {
        "action": "mask",
        "enabled": false,
        "patterns": []
      }
    },
    "file_activity": {
      "enabled": false,
      "exclude_patterns": [
        "*.tmp",
        "*.log"
      ],
      "include_patterns": [],
      "max_events_per_scan": 200,
      "max_files": 20000,
      "poll_interval_s": 2.0,
      "roots": []
    },
    "stub": {
      "frame_height": 720,
      "frame_width": 1280,
      "frames_dir": "",
      "jpeg_quality": 90,
      "loop": false,
      "max_frames": 0
    },
    "video": {
      "activity": {
        "active_bitrate_kbps": 2000,
        "active_fps": 8,
        "active_jpeg_quality": 90,
        "active_window_s": 3,
        "assume_idle_when_missing": true,
        "check_interval_s": 1,
        "enabled": true,
        "idle_bitrate_kbps": 8000,
        "idle_fps": 30,
        "idle_jpeg_quality": 90,
        "preserve_quality": true
      },
      "backend": "mss",
      "container": "avi_mjpeg",
      "dedupe": {
        "enabled": true,
        "hash": "blake2b",
        "min_repeat": 1,
        "mode": "mark_only",
        "sample_bytes": 65536,
        "window_ms": 1500
      },
      "enabled": true,
      "encoder": "cpu",
      "fps_target": 30,
      "jpeg_quality": 90,
      "monitor_index": 0,
      "resolution": "native",
      "segment_seconds": 60
    },
    "window_metadata": {
      "enabled": true,
      "sample_hz": 5
    }
  },
  "devtools": {
    "ast_ir": {
      "pin_path": "contracts/ir_pins.json"
    },
    "diffusion": {
      "dry_run": true,
      "k_variants": 1
    }
  },
  "gateway": {
    "egress_path": "/v1/egress",
    "openai_api_key": "",
    "openai_base_url": "",
    "timeout_s": 30
  },
  "indexing": {
    "embedder_model": null,
    "qdrant": {
      "binary_path": "vendor/qdrant.exe",
      "collection": "autocapture",
      "health_path": "/healthz",
      "url": "http://localhost:6333"
    },
    "vector_backend": "sqlite"
  },
  "kernel": {
    "required_capabilities": [
      "egress.gateway",
      "privacy.egress_sanitizer",
      "event.builder",
      "storage.metadata",
      "storage.media",
      "storage.entity_map",
      "ledger.writer",
      "journal.writer",
      "anchor.writer",
      "time.intent_parser",
      "retrieval.strategy",
      "answer.builder",
      "citation.validator",
      "runtime.governor",
      "runtime.scheduler",
      "capture.backpressure",
      "observability.logger",
      "devtools.diffusion",
      "devtools.ast_ir"
    ]
  },
  "llm": {
    "model": "sshleifer/tiny-gpt2"
  },
  "models": {
    "reranker_path": null,
    "vlm_path": null
  },
  "observability": {
    "allow_evidence": false,
    "allowlist_keys": [
      "event",
      "level",
      "message"
    ]
  },
  "alerts": {
    "enabled": true,
    "max_records": 200,
    "rules": {
      "capture.backend_fallback": {
        "severity": "warning",
        "title": "Capture backend fallback"
      },
      "capture.degrade": {
        "severity": "warning",
        "title": "Capture degraded"
      },
      "capture.drop": {
        "severity": "warning",
        "title": "Capture dropped"
      },
      "capture.restore": {
        "severity": "info",
        "title": "Capture restored"
      },
      "disk.critical": {
        "severity": "critical",
        "title": "Disk critical"
      },
      "disk.pressure": {
        "severity": "warning",
        "title": "Disk pressure"
      }
    }
  },
  "performance": {
    "ingestion_mb_s": 50,
    "memory_ceiling_mb": 512,
    "query_latency_ms": 2000,
    "startup_ms": 500
  },
  "plugins": {
    "allowlist": [
      "builtin.anchor.basic",
      "builtin.answer.basic",
      "builtin.backpressure.basic",
      "builtin.capture.audio.windows",
      "builtin.capture.basic",
      "builtin.capture.windows",
      "builtin.cursor.windows",
      "builtin.citation.basic",
      "builtin.devtools.ast_ir",
      "builtin.devtools.diffusion",
      "builtin.egress.gateway",
      "builtin.embedder.basic",
      "builtin.journal.basic",
      "builtin.ledger.basic",
      "builtin.meta.configurator.noop",
      "builtin.meta.policy.noop",
      "builtin.observability.basic",
      "builtin.ocr.basic",
      "builtin.privacy.egress_sanitizer",
      "builtin.processing.sst.pipeline",
      "builtin.processing.sst.ui_vlm",
      "builtin.reranker.basic",
      "builtin.retrieval.basic",
      "builtin.runtime.governor",
      "builtin.runtime.scheduler",
      "builtin.storage.encrypted",
      "builtin.storage.sqlcipher",
      "builtin.time.advanced",
      "builtin.tracking.input.windows",
      "builtin.tracking.clipboard.windows",
      "builtin.tracking.file_activity.windows",
      "builtin.vlm.basic",
      "builtin.window.metadata.windows",
      "mx.core.capture_win",
      "mx.core.compression_and_verify",
      "mx.core.egress_sanitizer",
      "mx.core.embed_local",
      "mx.core.export_import",
      "mx.core.llm_local",
      "mx.core.llm_openai_compat",
      "mx.core.ocr_local",
      "mx.core.retrieval_tiers",
      "mx.core.storage_sqlite",
      "mx.core.vector_local",
      "mx.core.web_ui",
      "mx.prompts.default",
      "mx.research.default",
      "mx.training.default",
      "builtin.sst.preprocess.normalize",
      "builtin.sst.preprocess.tile",
      "builtin.sst.ocr.onnx",
      "builtin.sst.ui.parse",
      "builtin.sst.layout.assemble",
      "builtin.sst.extract.table",
      "builtin.sst.extract.spreadsheet",
      "builtin.sst.extract.code",
      "builtin.sst.extract.chart",
      "builtin.sst.track.cursor",
      "builtin.sst.build.state",
      "builtin.sst.match.ids",
      "builtin.sst.temporal.segment",
      "builtin.sst.build.delta",
      "builtin.sst.infer.action",
      "builtin.sst.compliance.redact",
      "builtin.sst.persist",
      "builtin.sst.index"
    ],
    "capabilities": {
      "anchor.writer": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.anchor.basic"
        ],
        "provider_ids": []
      },
      "answer.builder": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.answer.basic"
        ],
        "provider_ids": []
      },
      "capture.audio": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.capture.audio.windows"
        ],
        "provider_ids": []
      },
      "capture.backpressure": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.backpressure.basic"
        ],
        "provider_ids": []
      },
      "capture.source": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.capture.windows",
          "builtin.capture.basic"
        ],
        "provider_ids": []
      },
      "citation.validator": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.citation.basic"
        ],
        "provider_ids": []
      },
      "devtools.ast_ir": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.devtools.ast_ir"
        ],
        "provider_ids": []
      },
      "devtools.diffusion": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.devtools.diffusion"
        ],
        "provider_ids": []
      },
      "egress.gateway": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.egress.gateway"
        ],
        "provider_ids": []
      },
      "embedder.text": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.embedder.basic"
        ],
        "provider_ids": []
      },
      "journal.writer": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.journal.basic"
        ],
        "provider_ids": []
      },
      "ledger.writer": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.ledger.basic"
        ],
        "provider_ids": []
      },
      "observability.logger": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.observability.basic"
        ],
        "provider_ids": []
      },
      "ocr.engine": {
        "fanout": true,
        "max_providers": 8,
        "mode": "multi",
        "preferred": [
          "mx.core.ocr_local",
          "builtin.ocr.basic"
        ],
        "provider_ids": []
      },
      "privacy.egress_sanitizer": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.privacy.egress_sanitizer"
        ],
        "provider_ids": []
      },
      "processing.pipeline": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.processing.sst.pipeline"
        ],
        "provider_ids": []
      },
      "processing.stage.hooks": {
        "fanout": true,
        "max_providers": 16,
        "mode": "multi",
        "preferred": [],
        "provider_ids": []
      },
      "reranker": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.reranker.basic"
        ],
        "provider_ids": []
      },
      "retrieval.strategy": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.retrieval.basic"
        ],
        "provider_ids": []
      },
      "runtime.governor": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.runtime.governor"
        ],
        "provider_ids": []
      },
      "runtime.scheduler": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.runtime.scheduler"
        ],
        "provider_ids": []
      },
      "storage.entity_map": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.storage.sqlcipher",
          "builtin.storage.encrypted",
          "builtin.storage.memory"
        ],
        "provider_ids": []
      },
      "storage.keyring": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.storage.sqlcipher",
          "builtin.storage.encrypted"
        ],
        "provider_ids": []
      },
      "storage.media": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.storage.sqlcipher",
          "builtin.storage.encrypted",
          "builtin.storage.memory"
        ],
        "provider_ids": []
      },
      "storage.metadata": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.storage.sqlcipher",
          "builtin.storage.encrypted",
          "builtin.storage.memory"
        ],
        "provider_ids": []
      },
      "time.intent_parser": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.time.advanced"
        ],
        "provider_ids": []
      },
      "tracking.cursor": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.cursor.windows"
        ],
        "provider_ids": []
      },
      "tracking.clipboard": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.tracking.clipboard.windows"
        ],
        "provider_ids": []
      },
      "tracking.file_activity": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.tracking.file_activity.windows"
        ],
        "provider_ids": []
      },
      "tracking.input": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.tracking.input.windows"
        ],
        "provider_ids": []
      },
      "vision.extractor": {
        "fanout": true,
        "max_providers": 8,
        "mode": "multi",
        "preferred": [
          "builtin.vlm.basic"
        ],
        "provider_ids": []
      },
      "window.metadata": {
        "fanout": false,
        "max_providers": 1,
        "mode": "single",
        "preferred": [
          "builtin.window.metadata.windows"
        ],
        "provider_ids": []
      }
    },
    "conflicts": {
      "allow_pairs": [],
      "enforce": true
    },
    "default_pack": [
      "builtin.anchor.basic",
      "builtin.answer.basic",
      "builtin.backpressure.basic",
      "builtin.capture.audio.windows",
      "builtin.capture.windows",
      "builtin.citation.basic",
      "builtin.devtools.ast_ir",
      "builtin.devtools.diffusion",
      "builtin.egress.gateway",
      "builtin.embedder.basic",
      "builtin.journal.basic",
      "builtin.ledger.basic",
      "builtin.observability.basic",
      "builtin.ocr.basic",
      "builtin.privacy.egress_sanitizer",
      "builtin.processing.sst.pipeline",
      "builtin.reranker.basic",
      "builtin.retrieval.basic",
      "builtin.runtime.governor",
      "builtin.runtime.scheduler",
      "builtin.storage.sqlcipher",
      "builtin.time.advanced",
      "builtin.tracking.input.windows",
      "builtin.vlm.basic",
      "builtin.window.metadata.windows",
      "mx.core.capture_win",
      "mx.core.compression_and_verify",
      "mx.core.egress_sanitizer",
      "mx.core.embed_local",
      "mx.core.export_import",
      "mx.core.llm_local",
      "mx.core.llm_openai_compat",
      "mx.core.ocr_local",
      "mx.core.retrieval_tiers",
      "mx.core.storage_sqlite",
      "mx.core.vector_local",
      "mx.core.web_ui",
      "mx.prompts.default",
      "mx.research.default",
      "mx.training.default"
    ],
    "enabled": {
      "builtin.anchor.basic": true,
      "builtin.answer.basic": true,
      "builtin.backpressure.basic": true,
      "builtin.capture.audio.windows": true,
      "builtin.capture.basic": false,
      "builtin.capture.windows": true,
      "builtin.citation.basic": true,
      "builtin.cursor.windows": false,
      "builtin.devtools.ast_ir": true,
      "builtin.devtools.diffusion": true,
      "builtin.egress.gateway": true,
      "builtin.embedder.basic": true,
      "builtin.journal.basic": true,
      "builtin.ledger.basic": true,
      "builtin.meta.configurator.noop": false,
      "builtin.meta.policy.noop": false,
      "builtin.observability.basic": true,
      "builtin.ocr.basic": true,
      "builtin.privacy.egress_sanitizer": true,
      "builtin.processing.sst.pipeline": true,
      "builtin.processing.sst.ui_vlm": false,
      "builtin.reranker.basic": true,
      "builtin.retrieval.basic": true,
      "builtin.runtime.governor": true,
      "builtin.runtime.scheduler": true,
      "builtin.sst.build.delta": false,
      "builtin.sst.build.state": false,
      "builtin.sst.compliance.redact": false,
      "builtin.sst.extract.chart": false,
      "builtin.sst.extract.code": false,
      "builtin.sst.extract.spreadsheet": false,
      "builtin.sst.extract.table": false,
      "builtin.sst.index": false,
      "builtin.sst.infer.action": false,
      "builtin.sst.layout.assemble": false,
      "builtin.sst.match.ids": false,
      "builtin.sst.ocr.onnx": false,
      "builtin.sst.persist": false,
      "builtin.sst.preprocess.normalize": false,
      "builtin.sst.preprocess.tile": false,
      "builtin.sst.temporal.segment": false,
      "builtin.sst.track.cursor": false,
      "builtin.sst.ui.parse": false,
      "builtin.storage.encrypted": false,
    "builtin.storage.sqlcipher": true,
    "builtin.time.advanced": true,
    "builtin.tracking.input.windows": true,
    "builtin.tracking.clipboard.windows": false,
    "builtin.tracking.file_activity.windows": false,
      "builtin.vlm.basic": true,
      "builtin.window.metadata.windows": true
    },
    "settings": {},
    "filesystem_defaults": {
      "read": [
        "{repo_root}/contracts",
        "{repo_root}/config",
        "{data_dir}"
      ],
      "readwrite": [
        "{data_dir}",
        "{cache_dir}"
      ]
    },
    "filesystem_policies": {
      "builtin.anchor.basic": {
        "readwrite": [
          "{anchor_dir}"
        ]
      }
    },
    "hosting": {
      "cache_dir": "data/cache/plugins",
      "inproc_allowlist": [
        "builtin.capture.basic",
        "builtin.capture.windows",
        "builtin.capture.audio.windows",
        "builtin.runtime.governor",
        "builtin.runtime.scheduler",
        "builtin.tracking.input.windows",
        "builtin.window.metadata.windows",
        "builtin.cursor.windows"
      ],
      "inproc_justifications": {
        "builtin.capture.audio.windows": "Real-time audio capture latency",
        "builtin.capture.basic": "Stub capture for development",
        "builtin.capture.windows": "Low-latency frame capture",
        "builtin.cursor.windows": "Cursor sampling latency",
        "builtin.runtime.governor": "Shares live budget state/leases not RPC-serializable",
        "builtin.runtime.scheduler": "Requires in-proc governor lease objects for scheduling",
        "builtin.tracking.input.windows": "High-frequency input tracking",
        "builtin.window.metadata.windows": "Window metadata sampling latency"
      },
      "job_limits": {
        "cpu_time_ms": 60000,
        "max_memory_mb": 512,
        "max_processes": 1
      },
      "mode": "subprocess",
      "rpc_max_message_bytes": 2000000,
      "rpc_timeout_limit": 3,
      "rpc_timeout_s": 10,
      "rpc_timeout_window_s": 60,
      "rpc_watchdog_backoff_s": 0.2,
      "rpc_watchdog_restart_max": 3,
      "offline_env": true,
      "sanitize_env": true
    },
    "hot_reload": {
      "allowlist": [],
      "blocklist": [],
      "enabled": true
    },
    "locks": {
      "enforce": true,
      "lockfile": "config/plugin_locks.json"
    },
    "meta": {
      "configurator_allowed": [],
      "policy_allowed": []
    },
    "permissions": {
      "network_allowed_plugin_ids": [
        "builtin.egress.gateway"
      ]
    },
    "safe_mode": false,
    "search_paths": [
      "autocapture_plugins"
    ]
  },
  "privacy": {
    "cloud": {
      "allow_images": false,
      "enabled": false
    },
    "egress": {
      "allow_raw_egress": false,
      "approval_required": false,
      "approval_store_path": "data/egress/approvals.json",
      "approval_ttl_s": 300,
      "default_sanitize": true,
      "enabled": true,
      "policy_id": "",
      "reasoning_packet_only": true,
      "recognizers": {
        "credit_card": true,
        "custom_regex": [],
        "email": true,
        "filepath": true,
        "ipv4": true,
        "names": true,
        "phone": true,
        "ssn": true,
        "url": true
      },
      "token_format": "\u27e6ENT:{type}:{token}\u27e7",
      "token_scope": "per_provider"
    }
  },
  "processing": {
    "idle": {
      "auto_start": true,
      "enabled": true,
      "extractors": {
        "ocr": true,
        "vlm": true
      },
      "max_concurrency_cpu": 2,
      "max_concurrency_gpu": 1,
      "max_items_per_run": 20,
      "max_seconds_per_run": 30,
      "sleep_ms": 2000
    },
    "on_query": {
      "allow_decode_extract": false,
      "extractors": {
        "ocr": true,
        "vlm": false
      },
      "max_window_minutes": 120,
      "require_idle": true
    },
    "sst": {
      "chart_min_ticks": 2,
      "code_detect_caret": false,
      "code_detect_selection": false,
      "code_min_keywords": 1,
      "cursor_detect": {
        "downscale": 5000,
        "enabled": false,
        "scales": [
          7500,
          10000,
          12500
        ],
        "stride_px": 4,
        "threshold": 6500
      },
      "d_boundary": 12,
      "d_stable": 4,
      "delta_bbox_shift_px": 24,
      "delta_table_match_iou_bp": 3000,
      "diff_threshold_bp": 1800,
      "enabled": true,
      "heavy_always": false,
      "heavy_on_boundary": true,
      "layout_align_tol_px": 48,
      "layout_block_gap_px": 28,
      "layout_line_y_px": 12,
      "ocr_max_patches": 64,
      "ocr_max_tokens": 4000,
      "ocr_min_conf_bp": 3500,
      "ocr_nms_iou_bp": 7000,
      "persist": {
        "mode": "shadow"
      },
      "phash_downscale": 32,
      "phash_size": 8,
      "redact_denylist": [],
      "redact_enabled": true,
      "schema_version": 1,
      "segment_downscale_px": 64,
      "sheet_header_scan_rows": 2,
      "stage_providers": {
        "build.delta": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "build.state": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "compliance.redact": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "extract.chart": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "extract.code": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "extract.spreadsheet": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "extract.table": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "index.text": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "infer.action": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "ingest.frame": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "layout.assemble": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "match.ids": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "ocr.onnx": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "persist.bundle": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "preprocess.normalize": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "preprocess.tile": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "temporal.segment": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "track.cursor": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "ui.parse": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        },
        "vision.vlm": {
          "enabled": true,
          "fanout": true,
          "max_providers": 0,
          "provider_ids": []
        }
      },
      "strip_alpha": true,
      "table_col_gap_px": 36,
      "table_max_cells": 2500,
      "table_min_cols": 2,
      "table_min_rows": 2,
      "table_row_gap_px": 18,
      "temporal_segment": {
        "mode": "shadow"
      },
      "tile_add_full_frame": true,
      "tile_max_px": 1024,
      "tile_overlap_px": 64,
      "tile_refine_cluster_gap_px": 48,
      "tile_refine_enabled": false,
      "tile_refine_low_conf_bp": 6500,
      "tile_refine_max_patches": 12,
      "tile_refine_padding_px": 24,
      "ui_parse": {
        "enabled": true,
        "fallback_detector": true,
        "max_providers": 1,
        "mode": "detector"
      },
      "ui_vlm": {
        "enabled": false,
        "max_providers": 1
      }
    }
  },
  "profile": "justin_full_fidelity",
  "promptops": {
    "banned_patterns": [
      "http://",
      "https://",
      "curl ",
      "wget ",
      "Invoke-WebRequest",
      "os.system",
      "subprocess"
    ],
    "bundle_name": "default",
    "enabled": true,
    "examples": {},
    "github": {
      "body": "Automated prompt update.",
      "enabled": false,
      "output_path": "artifacts/promptops_pr.json",
      "title": "PromptOps update"
    },
    "history": {
      "enabled": true,
      "include_prompt": false
    },
    "max_chars": 8000,
    "max_tokens": 2000,
    "min_pass_rate_pct": 100,
    "mode": "auto_apply",
    "persist_prompts": false,
    "query_strategy": "none",
    "require_citations": true,
    "sources": [],
    "strategy": "append_sources"
  },
  "research": {
    "cache_dir": "data/research/cache",
    "enabled": true,
    "interval_s": 1800,
    "report_dir": "data/research/reports",
    "run_on_idle": true,
    "source_name": "default",
    "sources": [],
    "threshold_pct": 10,
    "watchlist": {
      "tags": []
    },
    "watchlist_name": "default"
  },
  "retrieval": {
    "allow_full_scan": false,
    "fast_threshold": 3,
    "fusion_threshold": 5,
    "limit": 25,
    "vector_enabled": true,
    "vector_idle_seconds": 45,
    "vector_limit": 25,
    "vector_requires_idle": true,
    "window_limit": 1000
  },
  "runtime": {
    "active_window_s": 3,
    "activity": {
      "assume_idle_when_missing": false
    },
    "budgets": {
      "allow_heavy_during_active": false,
      "max_heavy_concurrency": 1,
      "max_jobs_per_window": 4,
      "min_idle_seconds": 45,
      "per_job_max_ms": 2500,
      "preempt_grace_ms": 150,
      "window_budget_ms": 8000,
      "window_s": 120
    },
    "gpu": {
      "release_vram_deadline_ms": 250,
      "release_vram_on_active": true
    },
    "idle_window_s": 45,
    "mode_enforcement": {
      "suspend_deadline_ms": 100,
      "suspend_workers": true
    },
    "telemetry": {
      "emit_interval_s": 5,
      "enabled": true
    },
    "timezone": "America/Denver"
  },
  "web": {
    "allow_remote": false,
    "auth_token_path": "data/vault/web_token.json",
    "bind_host": "127.0.0.1",
    "bind_port": 8787,
    "telemetry_interval_s": 1.0
  },
  "schema_version": 1,
  "storage": {
    "anchor": {
      "every_entries": 50,
      "every_minutes": 5,
      "path": "data_anchor/anchors.ndjson",
      "sign": true,
      "use_dpapi": true
    },
    "blob_dir": "data/blobs",
    "crypto": {
      "backend": "aesgcm",
      "keyring_path": "data/vault/keyring.json",
      "root_key_path": "data/vault/root.key"
    },
    "data_dir": "data",
    "disk_pressure": {
      "critical_free_gb": 50,
      "interval_s": 3600,
      "soft_free_gb": 100,
      "warn_free_gb": 200
    },
    "encryption_required": true,
    "entity_map": {
      "persist": true
    },
    "forecast": {
      "enabled": true,
      "warn_days": 14
    },
    "fsync_policy": "critical",
    "lexical_path": "data/lexical.db",
    "media_dir": "data/media",
    "metadata_path": "data/metadata.db",
    "retention": {
      "evidence": "infinite"
    },
    "spool_dir": "data/spool",
    "vector_path": "data/vector.db"
  },
  "time": {
    "dst_tie_breaker": "earliest",
    "relative_window_max_days": 30,
    "timezone": "America/Denver"
  }
}
